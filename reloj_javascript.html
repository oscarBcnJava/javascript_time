<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
	<title>Reloj javascript</title>
	<meta http-equiv="content-type" content="text/html;charset=utf-8" />	
	<link rel="stylesheet" href="css/style.css" />
	<style>	
	</style>
	<script type="text/javascript">
		var hora12=false;
	function reloj(){
		var horaMax = 0;
		hora12?horaMax=12:horaMax=24;		
		var hora = parseInt(document.getElementById("hora").innerHTML,10);
		if (horaMax===12 && hora<12) document.getElementById("tipoHora").innerHTML ="AM";
			else if (horaMax===12 && hora>12) document.getElementById("tipoHora").innerHTML ="PM";
			else if (horaMax===24) document.getElementById("tipoHora").innerHTML ="24h";
		var minutos = parseInt(document.getElementById("minutos").innerHTML,10);
		var segundos = parseInt(document.getElementById("segundos").innerHTML,10);			
		segundos += 1;
		
		if (segundos===60) {
			segundos=0;
			minutos++;
			if (minutos===60){
				minutos=0;
				hora++;
				if (hora===24) hora = 0;
				if (hora>9) {
					hora = hora.toString();
				}
				else hora = "0" + hora.toString();
				document.getElementById("hora").innerHTML = hora;
			}
		if (minutos>9) {
			minutos = minutos.toString();
		}	
		else minutos = "0" + minutos.toString();
	    document.getElementById("minutos").innerHTML = minutos;			
		}		
		if (segundos>9) {
			segundos = segundos.toString();
		}	
		else segundos = "0" + segundos.toString();
	    document.getElementById("segundos").innerHTML = segundos;		
	} 
	function reset(){
		hora12=false;
		document.getElementById("hora").innerHTML = "00";
		document.getElementById("minutos").innerHTML = "00";
		document.getElementById("segundos").innerHTML = "00";
	}
	function ajuste(){
		var time = new Date();
		document.getElementById("hora").innerHTML = (time.getHours()<10)?"0"+time.getHours():time.getHours();
		document.getElementById("minutos").innerHTML = (time.getMinutes()<10)?"0"+time.getMinutes():time.getMinutes();
		document.getElementById("segundos").innerHTML = (time.getSeconds()<10)?"0"+time.getSeconds():time.getSeconds();
	}
	function tipoHora(){
		var tipoHora = document.getElementById("12h").innerHTML;
		if (tipoHora==="12h") {
			hora12=true;
			document.getElementById("12h").innerHTML ="24h";
		}
		else if (tipoHora==="24h") {
			hora12=false;
			document.getElementById("12h").innerHTML ="12h";
		}
	}
	function oculta(){
		var visibility = document.getElementById("oculta").innerHTML;
		if (visibility==="Oculta") {
			document.getElementById("panelReloj").style.visibility ="collapse";
			document.getElementById("oculta").innerHTML = "Muestra";
		} else if (visibility==="Muestra"){
			document.getElementById("panelReloj").style.visibility ="visible";
			document.getElementById("oculta").innerHTML = "Oculta";
		}
		
	}
	</script>
</head>

<body onload="setInterval('reloj()', 1000);">
	<h1>Reloj Javascript</h1>
	<div id="panelReloj">
	<div id="etiquetas">
	<ul>
		<li>horas</li>
		<li>minutos</li>
		<li>segundos</li>
		</ul>
	</div>
	<div id="reloj">		
		<ul>
		<li id="hora">00</li><li>:</li>
		<li id="minutos">00</li><li>:</li>
		<li id="segundos">00</li>			
		</ul>		
	</div>
	<div id="centra">
		<li>
			<button>-</button>
			<button>+</button>
		</li>
		<li>
			<button>-</button>
			<button>+</button>
		</li>
	</div>
	</div>
	<div id="tipoHora">24h</div>	
	<div id="opciones">
		<ul>
		<li><button id="12h" onclick="tipoHora();">12h</button></li>
		<li><button id="ajuste" onclick="ajuste();">Ajuste</button></li>
		<li><button id="reset" onclick="reset();">Reset</button></li>
		<li><button id="oculta" onclick="oculta();">Oculta</button></li>
		</ul>
	</div>
</body>

</html>
